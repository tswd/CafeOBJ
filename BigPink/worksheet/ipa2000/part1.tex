\part{システム概要}
開放型分散環境での部品やサービスは分散オブジェクトとして捉えることが
出来る. その機能/動作の表現には入出力のデータ(型)および, 
動的な振る舞い(状態遷移)の記述が必要となる.
この場合, インタフェースの表現には, 
現在一般的に広く使用されている
IDLのベースとなっている概念, 標示(シグニチャ)が有効である.
動作に関しては, それがうまく表現できるだけではなく, 
検証を行う必要があることから, なんらかの形式的な論理体系が必要であり,
しかも, 効率良く計算機上で形式的証明が実行出来るようなものでなければ
ならない. 

上のような要件を提供する枠組として, 一般に振る舞い論理と総称される
形式表現が適切である. 
部品やサービスの仕様の記述にはこのような論理的枠組を提供する形式仕様言語を
用いるのが良い.
このような言語の一つに，隠蔽代数に基づく振る舞い仕様の記述を可能としている 
CafeOBJ がある. 
CafeOBJ は単にオブジェクトの振る舞いの記述にとどまらず,
強力なデータ型定義の機能, また高度な仕様のモジュール化機能を
備えているため表現能力に優れ, 既存の IDL などによる記述を, 容易に
マッピングすることが可能である. また, 実働する処理系がフリーで
入手できる. このことから, 検証推論システムは, CafeOBJ の処理系(インタプリタ)
を拡張し, それと融合されたシステムとなっている.

部品の検索・検証を行う上で基本的となるのが，
\begin{enumerate}
\item[(1)] シグニチャ・マッチング --- 仕様の構文的検索
\item[(2)] 仕様の振舞詳細化検証
\item[(3)] 振舞モデル検査法を用いた統合システム検査
\end{enumerate}
である．
本書で導入方法および使用手引を説明する\textbf{検証推論システム}は，これらの
基本要素となる機能を CafeOBJ インタプリタを拡張することで提供したものである．
上の (1) と (2) の機能は，併せて \textbf{仕様検証システム} として
構成される．(3) の機能は \textbf{モデル検査システム} が提供する．
これら2つのシステムの核として，\textbf{反駁システム} がある．
仕様検証およびモデル検査の両者とも，基本的には定理証明を行うものである．
このシステムでは隠蔽代数を扱うため，状態空間の遷移に関しての証明が
行わなければならない．そのため，状態空間を述語論理で表現する方法をとり，
したがって定理証明は，(等号付きの)多ソート一階述語論理における定理証明となる．
反駁システムは，このための定理証明系であり，システムの中心は反駁システム
の提供する，resolution に基づいた反駁エンジンである．
図~\ref{fig:bigpink-arch} にシステムの構成を示す．

{\sloppy
\begin{figure}[htb]
  \begin{center}
%    \epsfxsize=0.8\textwidth
    \includegraphics{bigpink-arch.eps}
    \caption{検証推論システムの構成}
    \label{fig:bigpink-arch}
  \end{center}
\end{figure}
}

図~\ref{fig:bigpink-arch} で, \textbf{Refinement Check System} とあるのが
仕様検証システム, \textbf{Model Check System} とあるのが モデル検査システム,
また, \textbf{Refutation System} となっているのが, 反駁システムである.
これらのシステムの機能は, (拡張された) CafeOBJ インタプリタへのコマンド
として外部へ提供される. したがって, CafeOBJ のコマンドインタプリタが
新規のコマンドあるいは構文によって拡張される. 図で \textbf{Extended Command
Interpreter} とあるのが, この拡張されたコマンドインタプリタである.
外部の利用者やシステムは, このコマンドインタプリタを通じてこれらのシステムの
機能を利用することになる.

\section{仕様検証システムの概要}
\label{sec:refine-check-abstract}

仕様検証システムは，ある部品の仕様が与えられた時に，それが要求仕様を
満足するものかどうかを形式的に検証するものである．

システム全体の文脈で言うと，
最初は，要求仕様 $R$ と合致するような部品の仕様 $P$ を
探索することから始まる．この時にシグニチャマッチングを利用して，
要求仕様に構文的に合致しないような部品仕様をふるいに掛けて払い落すことが出来る．
シグニチャマッチングは，マッチングが成功すると，
$R$ から $P$ への仕様射 $M$ (CafeOBJでは\textbf{view}と呼ばれる)を生成する．
仕様検証システムではこの $M$ を利用し，要求仕様 $R$ の公理を
$P$ へ写像して，それが $R$ で満足されるものかどうかを検査する．
これは，反駁エンジンを利用して，検査対象とする公理の否定が
反駁されるかどうかを調べることで可能である．

通常部品の仕様は部品の実装やあるいはシ実際のシステムに関連つけられている事が
多いと考えられ，そのため振舞仕様として与えられると考えられる．
従って公理の充足性の検証は，振舞等式の検証も含まれなければならない．
この場合は，振舞の状態空間の遷移に関しての双帰納法による定理証明となる．
このような場合は，次章のモデル検査システムの機能も利用することになる．
いずれの場合も，核となる定理証明には，反駁システム(反駁エンジン)が用いられる．

\section{モデル検査システムの概要}
\label{sec:model-check-abstract}

モデル検査は，部品の組合せで構成されたシステムに関する
安全性や，データの整合性等のさまざまな性質を網羅的に検査するものである．
このようなシステム全体の動的な性質を構成部品の仕様から演繹的に導くことは
出来ない．従って前述の仕様検証システムでは不足である．

モデル検査では，このための検証プロセスを述語計算における繰り返し演算で
浮動点を求めることとして定式化する．この計算に反駁システムが利用出来る．


\section{反駁システムの概要}
\label{sec:refutation-abstract}

既に以上の説明で触れられている通り，反駁システムは仕様検証や
モデル検査の際に実行される定理証明の核となるエンジンとして機能するものである．

エンジンは，等号を含む一階述語論理系における，resolution をベースとした
反駁方式による定理証明システムである．
対象とする問題の複雑性や，実験/研究のためのシステムの柔軟さの必要性を考えた場合，
相当程度の能力のある，しかも細かな調整がある程度可能な証明系であることが望ましい.
そこで，定理証明の分野では既に長年の実績が
あり，既に評価の定まっている自動証明システム 
{{\sc Otter}}\cite{otter} の機能仕様をベースとして仕様を定めた．
エンジンの中核部分は，基本的に {{\sc Otter}} のそれのサブセットとなっている．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
